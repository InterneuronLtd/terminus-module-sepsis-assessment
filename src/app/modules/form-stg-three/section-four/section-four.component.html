<!--BEGIN LICENSE BLOCK--> 
<!--Interneuron Terminus

Copyright(C) 2025  Interneuron Limited

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.If not, see<http://www.gnu.org/licenses/>. -->
<!--END LICENSE BLOCK--> 
<!--  Interneuron Sepsis Assessment App
Copyright(C) 2023  Interneuron Holdings Ltd
This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the
GNU General Public License for more details.
You should have received a copy of the GNU General Public License
along with this program.If not, see<http://www.gnu.org/licenses/>.  -->
<div class="clearfix">
   <!-- <div class="row"> -->
   <!-- <div class="col-md-10"> -->
   <div class="d-flex justify-content-start flex-row">
      <div class="flex-grow-1">
         <div class="card text-left">
            <div class="card-header"></div>
            <div class="card-body">
               <div class="row">
                  <div class="col-xs-5 col-sm-4 col-md-3 section-number">
                     <h1 class="card-title">04</h1>
                  </div>
                  <div class="col-md-6">
                     <div class="row">
                        <div class="col-md-12 section-header-text">
                           ANY <i>AMBER</i> FLAG PRESENT?
                        </div>
                     </div>
                     <div class="row" style="text-align: center;">
                        <div class="col-md-12">
                           <div class="btn-group" (click)="onDecisionChange($event)" btnRadioGroup
                              [(ngModel)]="sectionFourVM.selectedYesNo">
                              <label class="btn btn-secondary"
                                 [ngClass]="{'focus active': sectionFourVM.selectedYesNo == 'NOT ANSWERED', 'action-btn-group-disabled': readOnly}"
                                 btnRadio="NOT ANSWERED" [disabled]="readOnly" tabindex="0" role="button">NOT
                                 ANSWERED</label>
                              <label class="btn btn-success"
                                 [ngClass]="{'focus active': sectionFourVM.selectedYesNo == 'YES', 'action-btn-group-disabled': readOnly}"
                                 btnRadio="YES" tabindex="1" [disabled]="readOnly" role="button">YES</label>
                              <label class="btn btn-danger"
                                 [ngClass]="{'focus active': sectionFourVM.selectedYesNo == 'NO', 'action-btn-group-disabled': readOnly}"
                                 btnRadio="NO" tabindex="2" [disabled]="readOnly" role="button">NO</label>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div *ngIf="displaySelectionText" class="d-flex flex-row-reverse col-md-3">
                     <div class="font-weight-bold" style="font-size: 1.5rem" [ngClass]="displaySelectionCss">
                        {{displaySelectionText}}</div>
                  </div>
               </div>
               <div class="d-flex flex-row flex-wrap options-checkbox-container">

                 <div class="options-checkbox">
                     <app-option-checkbox key="Relativesconcernedaboutmentalstatus"
                        text="Relatives concerned about mental status" [modelToBind]="sectionFourVM"
                        [disabled]="readOnly || disableOptions" (optionChange)="onOptionChange($event)">
                     </app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="Acutedeteriorationinfunctionalability"
                        text="Acute deterioration in functional ability" [modelToBind]="sectionFourVM"
                        [disabled]="readOnly || disableOptions" (optionChange)="onOptionChange($event)">
                     </app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="Immunosuppressed" text="Immunosuppressed" [modelToBind]="sectionFourVM"
                        [disabled]="readOnly || disableOptions" (optionChange)="onOptionChange($event)">
                     </app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="Traumasurgeryprocedureinlast8weeks"
                        text="Trauma / surgery / procedure in last 8 weeks" [modelToBind]="sectionFourVM"
                        [disabled]="readOnly || disableOptions" (optionChange)="onOptionChange($event)">
                     </app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="Respiratoryrate2124" text="Respiratory rate 21-24"
                        [modelToBind]="sectionFourVM" [disabled]="readOnly || disableOptions"
                        (optionChange)="onOptionChange($event)"></app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="SystolicBP91100mmHg" text="Systolic BP 91-100 mmHg"
                        [modelToBind]="sectionFourVM" [disabled]="readOnly || disableOptions"
                        (optionChange)="onOptionChange($event)"></app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="Heartrate91130ornewdysrhythmia"
                        text="Heart rate 91-130 or new dysrhythmia" [modelToBind]="sectionFourVM"
                        [disabled]="readOnly || disableOptions" (optionChange)="onOptionChange($event)">
                     </app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="Temperaturelt36"
                        text="Temperature &lt;36Â°C" [modelToBind]="sectionFourVM"
                        [disabled]="readOnly || disableOptions" (optionChange)="onOptionChange($event)">
                     </app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="Clinicalsignsofwoundinfection"
                        text="Clinical signs of wound infection" [modelToBind]="sectionFourVM"
                        [disabled]="readOnly || disableOptions" (optionChange)="onOptionChange($event)">
                     </app-option-checkbox>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
   <div>
      <message-popup [showMessagePopup]="showConfirmationMessagePopup"
         [genericMessagePopupVM]="confirmationMessagePopup">
      </message-popup>
      <loading-indicator [showLoadingIndicator]="showLoadingIndicator"></loading-indicator>
      <message-popup [showMessagePopup]="showSaveStatusMessagePopup" [genericMessagePopupVM]="saveStatusMessagePopup">
      </message-popup>
   </div>
</div>

<div *ngIf="showAmberActionPanel" class="d-flex align-content-center flex-wrap section-submit-panel">
   <div class="submit-box align-middle" [class.opened]="showAmberActionPanel">
      <h2> FURTHER REVIEW REQUIRED</h2>
      <button type="button" (click)="confirmSave(true)" class="btn btn-primary">Submit</button>
   </div>
</div>
<div class="card-header no-amber-panel" *ngIf="showSubmitPanel">
   <span class="cls_018">NO AMBER FLAGS = ROUTINE CARE / CONSIDER OTHER DIAGNOSIS</span>
   <div><button type="button" class="btn btn-success" (click)="confirmSave(false)">Submit</button></div>
</div>