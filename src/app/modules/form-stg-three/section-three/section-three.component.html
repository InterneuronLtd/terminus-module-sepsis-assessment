<!--BEGIN LICENSE BLOCK--> 
<!--Interneuron Terminus

Copyright(C) 2025  Interneuron Limited

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.If not, see<http://www.gnu.org/licenses/>. -->
<!--END LICENSE BLOCK--> 
<!--  Interneuron Sepsis Assessment App
Copyright(C) 2023  Interneuron Holdings Ltd
This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the
GNU General Public License for more details.
You should have received a copy of the GNU General Public License
along with this program.If not, see<http://www.gnu.org/licenses/>.  -->
<div class="clearfix">
   <!-- <div class="row"> -->
   <!-- <div class="col-md-10"> -->
   <div class="d-flex justify-content-start flex-row">
      <div class="flex-grow-1">
         <div class="card text-left">
            <div class="card-header"></div>
            <div class="card-body">
               <div class="row">
                  <div class="col-xs-5 col-sm-4 col-md-3 section-number">
                     <h1 class="card-title">03</h1>
                  </div>
                  <div class="col-md-6">
                     <div class="row">
                        <div class="col-md-12 section-header-text">
                           ANY <i>RED</i> FLAG PRESENT?
                        </div>
                     </div>
                     <div class="row" style="text-align: center;">
                        <div class="col-md-12">
                           <div class="btn-group" (click)="onDecisionChange($event)" btnRadioGroup
                              [(ngModel)]="sectionThreeVM.selectedYesNo">
                              <label class="btn btn-secondary"
                                 [ngClass]="{'focus active': sectionThreeVM.selectedYesNo == 'NOT ANSWERED', 'action-btn-group-disabled': readOnly}"
                                 btnRadio="NOT ANSWERED" [disabled]="readOnly" tabindex="0" role="button">NOT
                                 ANSWERED</label>
                              <label class="btn btn-success"
                                 [ngClass]="{'focus active': sectionThreeVM.selectedYesNo == 'YES', 'action-btn-group-disabled': readOnly}"
                                 btnRadio="YES" tabindex="1" [disabled]="readOnly" role="button">YES</label>
                              <label class="btn btn-danger"
                                 [ngClass]="{'focus active': sectionThreeVM.selectedYesNo == 'NO', 'action-btn-group-disabled': readOnly}"
                                 btnRadio="NO" tabindex="2" [disabled]="readOnly" role="button">NO</label>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div *ngIf="displaySelectionText" class="d-flex flex-row-reverse col-md-3">
                     <div class="font-weight-bold" style="font-size: 1.5rem" [ngClass]="displaySelectionCss">
                        {{displaySelectionText}}</div>
                  </div>
               </div>
               <div class="d-flex flex-row flex-wrap options-checkbox-container">
                  <div class="options-checkbox">
                     <app-option-checkbox key="Objectiveevidenceofneworalteredmentalstate"
                        text="Objective evidence of new or altered mental state" [modelToBind]="sectionThreeVM"
                        [disabled]="readOnly || disableOptions" (optionChange)="onOptionChange($event)">
                     </app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="SystolicBPle90mmHg"
                        text="Systolic BP ≤ 90 mmHg (or drop of >40 from normal)" [modelToBind]="sectionThreeVM"
                        [disabled]="readOnly || disableOptions" (optionChange)="onOptionChange($event)">
                     </app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="Heartratege130perminute" text="Heart rate ≥ 130 per minute"
                        [modelToBind]="sectionThreeVM" [disabled]="readOnly || disableOptions"
                        (optionChange)="onOptionChange($event)"></app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="Respiratoryratege25perminute" text="Respiratory rate ≥ 25 per minute"
                        [modelToBind]="sectionThreeVM" [disabled]="readOnly || disableOptions"
                        (optionChange)="onOptionChange($event)"></app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="NeedsO2tokeepSpO2" text="Needs O2 to keep SpO2 ≥ 92% (88% in COPD)"
                        [modelToBind]="sectionThreeVM" [disabled]="readOnly || disableOptions"
                        (optionChange)="onOptionChange($event)"></app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="Nonblanchingrashmottledashencyanotic" text="Non-blanching rash / mottled / ashen / cyanotic"
                        [modelToBind]="sectionThreeVM" [disabled]="readOnly || disableOptions"
                        (optionChange)="onOptionChange($event)"></app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="Lactatege2mmolperl" text="Lactate ≥ 2 mmol/l"
                        [modelToBind]="sectionThreeVM" [disabled]="readOnly || disableOptions"
                        (optionChange)="onOptionChange($event)"></app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="Recentchemotherapy" text="Recent chemotherapy"
                        [modelToBind]="sectionThreeVM" [disabled]="readOnly || disableOptions"
                        (optionChange)="onOptionChange($event)"></app-option-checkbox>
                  </div>
                  <div class="options-checkbox">
                     <app-option-checkbox key="Notpassedurinein18hours" text="Not passed urine in 18 hours (&lt;0.5ml/kg/hr if catheterised)"
                        [modelToBind]="sectionThreeVM" [disabled]="readOnly || disableOptions"
                        (optionChange)="onOptionChange($event)"></app-option-checkbox>
                  </div>
               </div>
            </div>
         </div>
      </div>

   </div>
   <div>
      <message-popup [showMessagePopup]="showConfirmationMessagePopup"
         [genericMessagePopupVM]="confirmationMessagePopup">
      </message-popup>
      <loading-indicator [showLoadingIndicator]="showLoadingIndicator"></loading-indicator>
      <message-popup [showMessagePopup]="showSaveStatusMessagePopup" [genericMessagePopupVM]="saveStatusMessagePopup">
      </message-popup>
   </div>
</div>
<div *ngIf="ShowRedflagActionPanel" class="d-flex align-content-center flex-wrap section-submit-panel">
   <div class="submit-box align-middle" [class.opened]="ShowRedflagActionPanel">
      <h1> RED FLAG SEPSIS </h1>
      <h2> SEPSIS SIX</h2>
      <button type="button" (click)="confirmSave()" class="btn btn-warning">START</button>
   </div>
</div>